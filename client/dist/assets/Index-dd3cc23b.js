import{u as C,h as x,o as r,c as d,a as e,t as m,b as _,f as c,g as b,R as k,i as g,e as M,j as L,k as R,r as h,l as Z,m as I,d as V,v as $,F as B,n as N,p as T}from"./index-0f3924ee.js";import{E as U,D as z,L as A}from"./LoadingButton-447b037d.js";const q={class:"w-[45%] bg-white p-5 rounded mt-1 border-b border-grey cursor-pointer hover:bg-grey-lighter"},F={class:"w-full flex justify-between"},S={class:"w-[30%] text-xm font-bold uppercase"},E={class:"w-[75%] flex gap-x-4 justify-end"},O={class:"text-sm font-light"},G={class:"flex w-full justify-between"},J={key:0,class:"mt-2 flex"},K={class:"justify-self-end"},Q={__name:"ProjectCard",props:{project:Object},setup(a){const u=C();x.defaults.headers.common.Authorization=`Bearer ${u.authToken}`;const f=(t,l)=>{L(l,`/projects/${t}`,"")};return(t,l)=>(r(),d("div",q,[e("div",F,[e("h2",S,m(a.project.title),1),e("div",E,[e("p",null,m(a.project.start_date),1),e("p",null,m(a.project.end_date),1)])]),e("p",O,m(a.project.description),1),e("div",G,[_(u).authUser===1?(r(),d("div",J,[c(_(k),{to:{name:"editProject",params:{id:a.project.id}},class:"hover:text-green-800"},{default:b(()=>[c(U)]),_:1},8,["to"]),e("button",{class:"hover:text-red-800",onClick:l[0]||(l[0]=w=>f(a.project.id,"Proyecto"))},[c(z)])])):g("",!0),e("div",K,[c(_(k),{to:{name:"projectsShow",params:{projectId:a.project.id}},class:"px-4 py-2 bg-blue-500 text-white rounded-sm"},{default:b(()=>[M("Ver Proyecto ")]),_:1},8,["to"])])])]))}},W={class:"w-full shadow-md p-5"},X={key:0,class:"w-full"},Y=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),D={class:"container mx-auto"},ee={"date-rangepicker":"",class:"my-2 w-full flex items-center justify-around"},te={class:"relative"},se=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"})])],-1),oe=e("span",{class:"mx-4 text-gray-500"},"a",-1),ae={class:"relative"},re=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"})])],-1),le={key:0,class:"w-full flex justify-around flex-wrap gap-2 mt-2"},ne={key:1,class:"min-h-screen w-full h-full fixed top-[0] flex items-center justify-center bg-gray-500 bg-opacity-[10%]"},ce={__name:"Index",setup(a){const u=C();x.defaults.headers.common.Authorization=`Bearer ${u.authToken}`,R(()=>{w()});const f=h([]),t=h([]),l=h(!1),w=async()=>{await x.get("/projects").then(s=>{t.value=s.data,f.value=s.data}),l.value=!0},v=h(""),p=h("");Z([v,p],([s,o],[y,n])=>{let j=t.value.filter(i=>!s&&!o?!0:s&&o?i.start_date>=s&&i.end_date<=o:s?i.start_date>=s:i.end_date<=o);j.sort((i,P)=>i.start_date-P.start_date),t.value=j});const H=()=>{t.value=f.value,v.value="",p.value=""};return(s,o)=>{const y=I("RouterLink");return r(),d(B,null,[e("div",W,[_(u).authUser===1?(r(),d("div",X,[c(y,{to:{name:"createProject"},class:"flex justify-center w-full bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full"},{default:b(()=>[Y]),_:1})])):g("",!0)]),e("div",D,[e("div",ee,[e("button",{class:"bg-blue-500 rounded-2xl p-2 text-white",onClick:H}," Resetear "),e("div",te,[se,V(e("input",{"onUpdate:modelValue":o[0]||(o[0]=n=>v.value=n),name:"start",type:"date",required:"",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5"},null,512),[[$,v.value]])]),oe,e("div",ae,[re,V(e("input",{"onUpdate:modelValue":o[1]||(o[1]=n=>p.value=n),name:"end",type:"date",required:"",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5"},null,512),[[$,p.value]])])]),t.value?(r(),d("div",le,[(r(!0),d(B,null,N(t.value,n=>(r(),T(Q,{key:n.id,project:n},null,8,["project"]))),128))])):g("",!0),l.value?g("",!0):(r(),d("div",ne,[c(A)]))])],64)}}};export{ce as default};
